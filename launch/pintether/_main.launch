<launch>
	<!-- ========================================================== -->
	<!-- Launch everything needed for Kinefly, except the           -->
    <!-- source image streams.                                      -->
	<!-- ========================================================== -->

    <include file="$(find Kinefly)/launch/$(env RIG)/params_kinefly_1.launch"                    ns="kinefly1_pin" />
    <include file="$(find Kinefly)/launch/$(env RIG)/params_kinefly_2.launch"                    ns="kinefly2_pin" />
    <include file="$(find Kinefly)/launch/$(env RIG)/params_kinefly_3.launch"                    ns="kinefly3_pin" />


    <node name="flystate2phidgetsanalog"  pkg="Kinefly"   type="flystate2phidgetsanalog.py" ns="kinefly1_pin" />
    <node name="flystate2phidgetsanalog"  pkg="Kinefly"   type="flystate2phidgetsanalog.py" ns="kinefly2_pin"  />
    <node name="flystate2phidgetsanalog"  pkg="Kinefly"   type="flystate2phidgetsanalog.py" ns="kinefly3_pin"  />

    <node name="kinefly1_pin"            pkg="Kinefly"   type="kinefly.py"                                   required="true" />
    <node name="kinefly2_pin"            pkg="Kinefly"   type="kinefly.py"                                   required="true" />
    <node name="kinefly3_pin"            pkg="Kinefly"   type="kinefly.py"                                   required="true" />

    <rosparam param="stimulus/publish_voltages/channels_ai" >[0, 1, 2]</rosparam>
    <node name="interfacekit"            pkg="phidgets"  type="phidgets_interfacekit.py"  ns="stimulus"     required="true" />
    <node name="publish_voltages"        pkg="Kinefly"   type="publish_voltages.py"       ns="stimulus"     required="true" />
    


</launch>
